(this["webpackJsonpbgio-tutorial"]=this["webpackJsonpbgio-tutorial"]||[]).push([[0],{125:function(e,t){},129:function(e,t,r){"use strict";r.r(t);var s=r(3),o=r.n(s),n=r(70),i=r.n(n),c=(r(80),r(73)),u=r(2),l=1,h=2,d=3,a=4,p=5,b=1,j=2,v=3,x=4,O=1,f=2,y=[a,h,l,d,p];function w(e,t,r){var s=e.turnOrder.indexOf(e.houses[t].id),o=(s+1)%e.turnOrder.length;e.currentPlayer=e.turnOrder[o],r&&e.turnOrder.splice(s,1),(e.currentPlayer===e.leader||e.turnOrder.length<1)&&(e.currentPhase=f,e.currentPlayer=null)}var g={setup:function(){return{currentDilemma:"https://i.ibb.co/NLJhqKq/Screen-Shot-2021-04-11-at-6-54-35-PM.png",currentPhase:O,turnOrder:y,currentPlayer:a,leader:a,moderator:p,moderatorAvailable:!0,powerPool:3,houses:{olwyn:{name:"Olwyn",id:a,coins:10,power:10,current_bid:null,current_vote_type:null,top:"470px",left:"95px",prestige:9,crave:0,color:"red",agendas:"This game, gain points for welfare highest",achievement1:"Score 2+ points from agendas (0/3)",achievement2:"Influence is highest (1/3)",achievement3:"End with 18+ coins (0/4)",story:"Assert the Dominion of Knowledge Over Spirit"},crann:{name:"Crann",id:h,coins:10,power:8,current_bid:null,current_vote_type:null,top:"470px",left:"95px",prestige:5,crave:2,color:"green",agendas:"This game, lose points if wealth lowest",achievement1:"Morale is lowest (1/3)",achievement2:"Influence is highest (1/3)",achievement3:"Stability is in lower half (1/4)",story:"Conquer Another Kingdom"},dualak:{name:"Dualak",id:l,coins:10,power:9,current_bid:null,current_vote_type:null,top:"470px",left:"95px",prestige:4,crave:2,color:"purple",agendas:"This game, gain points if wealth highest",achievement1:"Stability is in lower half (1/4)",achievement2:"Influence is lowest (0/3)",achievement3:"Wealth is lowest (1/3)",story:"Curse the Royal Family"},solad:{name:"Solad",id:d,coins:10,power:8,current_bid:null,current_vote_type:null,top:"470px",left:"95px",prestige:3,crave:3,color:"blue",agendas:"This game, gain points if knowledge highest, lose points if influence or morale lowest",achievement1:"Morale is lowest (1/3)",achievement2:"Knowledge is highest (1/3)",achievement3:"Score 2+ points from agendas (0/3)",story:"Find a New Perspective on Reality"},blodyn:{name:"Blodyn",id:p,coins:10,power:9,current_bid:null,current_vote_type:null,top:"470px",left:"95px",prestige:2,crave:1,color:"gold",agendas:"This game, gain points if influence highest",achievement1:"Balance is between 5 and 13, inclusive (1/5)",achievement2:"Morale is highest (0/3)",achievement3:"Knowledge is highest (1/3)",story:"Find Harmony Between Knowledge and Spirit"}}}},turn:{moveLimit:1},moves:{assignLeader:function(e,t,r){if(!e.houses[r])return u.t;e.leader=e.houses[r].id},assignModerator:function(e,t,r){if(!e.houses[r])return u.t;e.moderator=e.houses[r].id},addPower:function(e,t,r){if(!e.houses[r])return u.t;e.houses[r].power=e.houses[r].power+1},removePower:function(e,t,r){if(!e.houses[r])return u.t;e.houses[r].power=e.houses[r].power-1},addCoin:function(e,t,r){if(!e.houses[r])return u.t;e.houses[r].coins=e.houses[r].coins+1},removeCoin:function(e,t,r){if(!e.houses[r])return u.t;e.houses[r].coins=e.houses[r].coins-1},voteAye:function(e,t,r,s){if(!e.houses[r])return u.t;if(e.currentPlayer!==e.houses[r].id)return u.t;if(isNaN(s)||s<0)return u.t;if(e.houses[r].current_bid+s>e.houses[r].power)return u.t;e.houses[r].current_vote_type=b,e.houses[r].current_bid=e.houses[r].current_bid+s;var o=e.houses[Object.keys(e.houses).find((function(t){return e.houses[t].id===e.leader}))];e.houses[r].current_bid>o.current_bid&&(e.leader=e.houses[r].id),w(e,r)},voteNay:function(e,t,r,s){if(!e.houses[r])return u.t;if(e.currentPlayer!==e.houses[r].id)return u.t;if(isNaN(s)||s<0)return u.t;if(e.houses[r].current_bid+s>e.houses[r].power)return u.t;e.houses[r].current_vote_type=j,e.houses[r].current_bid=e.houses[r].current_bid+s;var o=e.houses[Object.keys(e.houses).find((function(t){return e.houses[t].id===e.leader}))];e.houses[r].current_bid>o.current_bid&&(e.leader=e.houses[r].id),w(e,r)},passPower:function(e,t,r){return e.houses[r]?e.currentPlayer!==e.houses[r].id?u.t:(e.houses[r].current_vote_type=v,void w(e,r,!0)):u.t},passModerator:function(e,t,r){return e.houses[r]?e.currentPlayer!==e.houses[r].id?u.t:e.moderatorAvailable?(e.houses[r].current_vote_type=x,e.moderator=e.houses[r].id,e.moderatorAvailable=!1,void w(e,r,!0)):u.t:u.t},newVote:function(e,t){e.currentPhase=O,e.currentPlayer=e.leader;for(var r=Object.keys(e.houses),s=0;s<r.length;s++)e.houses[r[s]].current_vote_type=null,e.houses[r[s]].current_bid=null;e.moderatorAvailable=!0,e.turnOrder=y},resolveAye:function(e,t){for(var r=Object.keys(e.houses),s=0,o=0;o<r.length;o++)e.houses[r[o]].current_vote_type===v&&(s+=1);var n=e.powerPool%s;if(n<e.powerPool){for(var i=(e.powerPool-n)/s,c=0;c<r.length;c++)e.houses[r[c]].current_vote_type===v&&(e.houses[r[c]].power=e.houses[r[c]].power+i);e.powerPool=n}for(var u=0;u<r.length;u++)e.houses[r[u]].current_vote_type===b&&(e.powerPool=e.powerPool+e.houses[r[u]].current_bid,e.houses[r[u]].power=e.houses[r[u]].power-e.houses[r[u]].current_bid);for(var l=0;l<r.length;l++)e.houses[r[l]].current_vote_type!==x&&e.houses[r[l]].current_vote_type!==v||(e.houses[r[l]].coins=e.houses[r[l]].coins+1)},resolveNay:function(e,t){for(var r=Object.keys(e.houses),s=0,o=0;o<r.length;o++)e.houses[r[o]].current_vote_type===v&&(s+=1);var n=e.powerPool%s;if(n<e.powerPool){for(var i=(e.powerPool-n)/s,c=0;c<r.length;c++)e.houses[r[c]].current_vote_type===v&&(e.houses[r[c]].power=e.houses[r[c]].power+i);e.powerPool=n}for(var u=0;u<r.length;u++)e.houses[r[u]].current_vote_type===j&&(e.powerPool=e.powerPool+e.houses[r[u]].current_bid,e.houses[r[u]].power=e.houses[r[u]].power-e.houses[r[u]].current_bid);for(var l=0;l<r.length;l++)e.houses[r[l]].current_vote_type!==x&&e.houses[r[l]].current_vote_type!==v||(e.houses[r[l]].coins=e.houses[r[l]].coins+1)},changeURL:function(e,t,r){e.currentDilemma=r}},endIf:function(e,t){}},m=r(5),_=r(8),P=r(9),A=r(10),C=r(74),S=r(46),k=r(1),E=function(e){Object(P.a)(r,e);var t=Object(A.a)(r);function r(){var e;Object(m.a)(this,r);for(var s=arguments.length,o=new Array(s),n=0;n<s;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))).action=null,e}return Object(_.a)(r,[{key:"setAction",value:function(e){this.action=e}},{key:"onClick",value:function(e){var t=this.action;if("assignLeader"===t&&this.props.moves.assignLeader(e),"assignModerator"===t&&this.props.moves.assignModerator(e),"addPower"===t&&this.props.moves.addPower(e),"removePower"===t&&this.props.moves.removePower(e),"addCoin"===t&&this.props.moves.addCoin(e),"removeCoin"===t&&this.props.moves.removeCoin(e),"voteAye"===t){var r=document.getElementById(e+"-bid"),s=parseInt(null===r||void 0===r?void 0:r.value);this.props.moves.voteAye(e,s)}if("voteNay"===t){var o=document.getElementById(e+"-bid"),n=parseInt(null===o||void 0===o?void 0:o.value);this.props.moves.voteNay(e,n)}"passPower"===t&&this.props.moves.passPower(e),"passModerator"===t&&this.props.moves.passModerator(e),this.action=null}},{key:"render",value:function(){var e=this,t="";this.props.ctx.gameover&&(t=void 0!==this.props.ctx.gameover.winner?Object(k.jsxs)("div",{id:"winner",children:["Winner: ",this.props.ctx.gameover.winner]}):Object(k.jsx)("div",{id:"winner",children:"Draw!"}));for(var r=[],s=Object.keys(this.props.G.houses),o=function(t){var o=s[t],n=[Object(k.jsxs)("div",{children:["AYE: ",e.props.G.houses[o].current_bid,Object(k.jsx)("br",{}),Object(k.jsxs)("span",{children:["Bid: ",Object(k.jsx)("input",{style:{width:"15px"},id:o+"-bid"})]})]}),Object(k.jsxs)("div",{children:["NAY: ",e.props.G.houses[o].current_bid,Object(k.jsx)("br",{}),Object(k.jsxs)("span",{children:["Bid: ",Object(k.jsx)("input",{style:{width:"15px"},id:o+"-bid"})]})]}),Object(k.jsx)("div",{children:"PASS (POWER) "}),Object(k.jsx)("div",{children:"PASS (MODERATOR) "})];r.push(Object(k.jsx)("div",{style:{lineHeight:"14px",textAlign:"center"},onClick:function(){return e.onClick(o)},children:Object(k.jsx)("table",{children:Object(k.jsx)("tbody",{children:Object(k.jsxs)("tr",{style:{height:"120px"},children:[Object(k.jsxs)("td",{style:{width:"100px",border:"1px solid #555"},children:[o," ",Object(k.jsxs)("span",{class:"tooltip",children:[Object(k.jsx)(C.a,{color:e.props.G.houses[o].color}),Object(k.jsxs)("span",{class:"tooltiptext",children:["Prestige: ",e.props.G.houses[o].prestige,Object(k.jsx)("br",{}),"Crave: ",e.props.G.houses[o].crave,Object(k.jsx)("br",{}),e.props.G.houses[o].agendas,Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),e.props.G.houses[o].achievement1,Object(k.jsx)("br",{}),e.props.G.houses[o].achievement2,Object(k.jsx)("br",{}),e.props.G.houses[o].achievement3,Object(k.jsx)("br",{}),e.props.G.houses[o].story]}),Object(k.jsx)("br",{})]}),"Power: ",e.props.G.houses[o].power," ",Object(k.jsx)("br",{}),"Coins: ",e.props.G.houses[o].coins," ",Object(k.jsx)("br",{}),e.props.G.leader===e.props.G.houses[o].id?"LEADER":""," ",Object(k.jsx)("br",{}),e.props.G.moderator===e.props.G.houses[o].id?"MODERATOR":""," ",Object(k.jsx)("br",{}),e.props.G.currentPlayer===e.props.G.houses[o].id?"CURRENT PLAYER":""," ",Object(k.jsx)("br",{})]}),Object(k.jsxs)("td",{style:{width:"150px"},children:[Object(k.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.setAction("voteAye")},children:"AYE"}),Object(k.jsx)("br",{}),Object(k.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.setAction("voteNay")},children:"NAY"}),Object(k.jsx)("br",{}),Object(k.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.setAction("passPower")},children:"PASS (POWER)"}),Object(k.jsx)("br",{}),Object(k.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.setAction("passModerator")},children:"PASS (MODERATOR)"}),Object(k.jsx)("br",{})]}),Object(k.jsx)("td",{style:{width:"100px",height:"50px",border:"1px solid #555"},children:e.props.G.houses[o].current_vote_type?n[e.props.G.houses[o].current_vote_type-1]:Object(k.jsxs)("span",{children:["Bid: ",Object(k.jsx)("input",{style:{width:"15px"},id:o+"-bid"})]})})]})})})},o))},n=0;n<s.length;n++)o(n);var i=Object(k.jsx)("div",{style:{border:"1px solid #555",height:"50px",lineHeight:"10px",textAlign:"center",background:"rgba(256, 256, 256, 0.65)"},children:Object(k.jsx)("table",{children:Object(k.jsxs)("tbody",{children:[Object(k.jsxs)("tr",{children:[Object(k.jsxs)("td",{children:["      ",Object(k.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.setAction("assignLeader")},children:"ASSIGN LEADER"}),Object(k.jsx)("br",{})]}),Object(k.jsxs)("td",{children:[Object(k.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.setAction("addPower")},children:"ADD POWER"}),Object(k.jsx)("br",{})]}),Object(k.jsxs)("td",{children:[Object(k.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.setAction("addCoin")},children:"ADD COIN"}),Object(k.jsx)("br",{})]}),Object(k.jsxs)("td",{children:[Object(k.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.props.moves.newVote()},children:"NEW VOTE"}),Object(k.jsx)("br",{})]}),Object(k.jsx)("td",{children:2===this.props.G.currentPhase?Object(k.jsxs)("div",{children:[Object(k.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.props.moves.resolveAye()},children:"AYES HAVE IT"}),Object(k.jsx)("br",{})]}):""}),Object(k.jsxs)("td",{children:[Object(k.jsx)(S.a,{sources:["camera"],resourceType:"image",cloudName:"dgqjwmtyf",uploadPreset:"lowmd5va-dilemma",buttonText:"Upload",style:{color:"white",border:"none",width:"120px",backgroundColor:"green",borderRadius:"4px",height:"20px"},onSuccess:function(t){console.log("success",t),e.props.moves.changeURL(t.info.secure_url)},onFailure:function(e,t){console.log("failure",e,t)},logging:!1,use_filename:!1}),Object(k.jsx)("br",{})]})]}),Object(k.jsxs)("tr",{children:[Object(k.jsxs)("td",{children:[Object(k.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.setAction("assignModerator")},children:"ASSIGN MODERATOR"}),Object(k.jsx)("br",{})]}),Object(k.jsxs)("td",{children:[Object(k.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.setAction("removePower")},children:"REMOVE POWER"}),Object(k.jsx)("br",{})]}),Object(k.jsxs)("td",{children:[Object(k.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.setAction("removeCoin")},children:"REMOVE COIN"}),Object(k.jsx)("br",{})]}),Object(k.jsx)("td",{children:1===this.props.G.currentPhase?"Voting":"Vote Closed"}),Object(k.jsx)("td",{children:2===this.props.G.currentPhase?Object(k.jsxs)("div",{children:[Object(k.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.props.moves.resolveNay()},children:"NAYS HAVE IT"}),Object(k.jsx)("br",{})]}):""})]})]})})}),c=Object(k.jsxs)("div",{style:{position:"absolute",top:"80px",left:"400px"},children:[Object(k.jsxs)("div",{children:["Current Power Pool: ",this.props.G.powerPool]}),Object(k.jsx)("img",{alt:"",style:{width:"400px"},src:this.props.G.currentDilemma})]});return Object(k.jsxs)("div",{children:[Object(k.jsx)(S.b,{}),i,r,c,t]})}}]),r}(o.a.Component),G=r(36),R=Object(c.a)({numPlayers:1,game:g,board:E,multiplayer:Object(G.b)({server:"https://pandemic-legacy0.herokuapp.com"})}),N=function(){return Object(k.jsx)("div",{children:Object(k.jsx)(R,{playerID:"0"})})},M=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,132)).then((function(t){var r=t.getCLS,s=t.getFID,o=t.getFCP,n=t.getLCP,i=t.getTTFB;r(e),s(e),o(e),n(e),i(e)}))};i.a.render(Object(k.jsx)(o.a.StrictMode,{children:Object(k.jsx)(N,{})}),document.getElementById("root")),M()},80:function(e,t,r){}},[[129,1,2]]]);
//# sourceMappingURL=main.2a187eaa.chunk.js.map