(this["webpackJsonpbgio-tutorial"]=this["webpackJsonpbgio-tutorial"]||[]).push([[0],{115:function(e,t){},119:function(e,t,s){"use strict";s.r(t);var o=s(3),r=s.n(o),n=s(60),i=s.n(n),c=(s(70),s(63)),l=s(2),u=1,d=2,a=3,h=4,p=5,j=1,b=2,x=3,O=4,v=1,f=2,m=[h,u,d,a,p];function g(e,t,s){var o=e.turnOrder.indexOf(e.houses[t].id),r=(o+1)%e.turnOrder.length;e.currentPlayer=e.turnOrder[r],s&&e.turnOrder.splice(o,1),(e.currentPlayer===e.leader||e.turnOrder.length<1)&&(e.currentPhase=f,e.currentPlayer=null)}var y={setup:function(){return{currentDilemma:"https://i.ibb.co/NLJhqKq/Screen-Shot-2021-04-11-at-6-54-35-PM.png",currentPhase:v,turnOrder:m,currentPlayer:h,leader:h,moderator:p,moderatorAvailable:!0,powerPool:3,bloodPool:8,houses:{olwyn:{name:"Olwyn",id:h,coins:10,power:9,current_bid:null,current_vote_type:null,top:"470px",left:"95px",prestige:12,crave:0,color:"red",agendas:"This game, gain points for welfare highest",achievement1:"Score 2+ points from agendas (0/3)",achievement2:"Influence is highest (1/3)",achievement3:"End with 18+ coins (1/4)",story:"Assert the Dominion of Knowledge Over Spirit"},dualak:{name:"Dualak",id:u,coins:10,power:9,current_bid:null,current_vote_type:null,top:"470px",left:"95px",prestige:6,crave:3,color:"purple",agendas:"This game, gain points if wealth highest",achievement1:"Stability is in lower half (1/4)",achievement2:"Influence is lowest (0/3)",achievement3:"Wealth is lowest (1/3)",story:"Curse the Royal Family"},crann:{name:"Crann",id:d,coins:10,power:8,current_bid:null,current_vote_type:null,top:"470px",left:"95px",prestige:5,crave:4,color:"green",agendas:"This game, lose points if wealth lowest",achievement1:"Morale is lowest (2/3)",achievement2:"Influence is highest (1/3)",achievement3:"Stability is in lower half (1/4)",story:"Conquer Another Kingdom"},solad:{name:"Solad",id:a,coins:10,power:7,current_bid:null,current_vote_type:null,top:"470px",left:"95px",prestige:3,crave:7,color:"blue",agendas:"This game, gain points if knowledge highest, lose points if influence or morale or welfare lowest",achievement1:"Morale is lowest (2/3)",achievement2:"Knowledge is highest (2/3)",achievement3:"Score 2+ points from agendas (0/3)",story:"Find a New Perspective on Reality"},blodyn:{name:"Blodyn",id:p,coins:10,power:9,current_bid:null,current_vote_type:null,top:"470px",left:"95px",prestige:2,crave:1,color:"gold",agendas:"This game, gain points if influence highest",achievement1:"Balance is between 5 and 13, inclusive (1/5)",achievement2:"Morale is highest (0/3)",achievement3:"Knowledge is highest (1/3)",story:"Find Harmony Between Knowledge and Spirit"}}}},turn:{moveLimit:1},moves:{assignLeader:function(e,t,s){if(!e.houses[s])return l.t;e.leader=e.houses[s].id},assignModerator:function(e,t,s){if(!e.houses[s])return l.t;e.moderator=e.houses[s].id},addPower:function(e,t,s){if(!e.houses[s])return l.t;e.houses[s].power=e.houses[s].power+1},removePower:function(e,t,s){if(!e.houses[s])return l.t;e.houses[s].power=e.houses[s].power-1},addCoin:function(e,t,s){if(!e.houses[s])return l.t;e.houses[s].coins=e.houses[s].coins+1},removeCoin:function(e,t,s){if(!e.houses[s])return l.t;e.houses[s].coins=e.houses[s].coins-1},voteAye:function(e,t,s,o){if(!e.houses[s])return l.t;if(e.currentPlayer!==e.houses[s].id)return l.t;if(isNaN(o)||o<0)return l.t;if(e.houses[s].current_bid+o>e.houses[s].power)return l.t;e.houses[s].current_vote_type=j,e.houses[s].current_bid=e.houses[s].current_bid+o;var r=e.houses[Object.keys(e.houses).find((function(t){return e.houses[t].id===e.leader}))];e.houses[s].current_bid>r.current_bid&&(e.leader=e.houses[s].id),g(e,s)},voteNay:function(e,t,s,o){if(!e.houses[s])return l.t;if(e.currentPlayer!==e.houses[s].id)return l.t;if(isNaN(o)||o<0)return l.t;if(e.houses[s].current_bid+o>e.houses[s].power)return l.t;e.houses[s].current_vote_type=b,e.houses[s].current_bid=e.houses[s].current_bid+o;var r=e.houses[Object.keys(e.houses).find((function(t){return e.houses[t].id===e.leader}))];e.houses[s].current_bid>r.current_bid&&(e.leader=e.houses[s].id),g(e,s)},passPower:function(e,t,s){return e.houses[s]?e.currentPlayer!==e.houses[s].id?l.t:(e.houses[s].current_vote_type=x,void g(e,s,!0)):l.t},passModerator:function(e,t,s){return e.houses[s]?e.currentPlayer!==e.houses[s].id?l.t:e.moderatorAvailable?(e.houses[s].current_vote_type=O,e.moderator=e.houses[s].id,e.moderatorAvailable=!1,void g(e,s,!0)):l.t:l.t},newVote:function(e,t){e.currentPhase=v,e.currentPlayer=e.leader;for(var s=Object.keys(e.houses),o=0;o<s.length;o++)e.houses[s[o]].current_vote_type=null,e.houses[s[o]].current_bid=null;e.moderatorAvailable=!0,e.turnOrder=m},resolveAye:function(e,t){for(var s=Object.keys(e.houses),o=0,r=0;r<s.length;r++)e.houses[s[r]].current_vote_type===x&&(o+=1);var n=e.powerPool%o;if(n<e.powerPool){for(var i=(e.powerPool-n)/o,c=0;c<s.length;c++)e.houses[s[c]].current_vote_type===x&&(e.houses[s[c]].power=e.houses[s[c]].power+i);e.powerPool=n}for(var l=0;l<s.length;l++)e.houses[s[l]].current_vote_type===j&&(e.powerPool=e.powerPool+e.houses[s[l]].current_bid,e.houses[s[l]].power=e.houses[s[l]].power-e.houses[s[l]].current_bid);for(var u=0;u<s.length;u++)e.houses[s[u]].current_vote_type!==O&&e.houses[s[u]].current_vote_type!==x||(e.houses[s[u]].coins=e.houses[s[u]].coins+1)},resolveNay:function(e,t){for(var s=Object.keys(e.houses),o=0,r=0;r<s.length;r++)e.houses[s[r]].current_vote_type===x&&(o+=1);var n=e.powerPool%o;if(n<e.powerPool){for(var i=(e.powerPool-n)/o,c=0;c<s.length;c++)e.houses[s[c]].current_vote_type===x&&(e.houses[s[c]].power=e.houses[s[c]].power+i);e.powerPool=n}for(var l=0;l<s.length;l++)e.houses[s[l]].current_vote_type===b&&(e.powerPool=e.powerPool+e.houses[s[l]].current_bid,e.houses[s[l]].power=e.houses[s[l]].power-e.houses[s[l]].current_bid);for(var u=0;u<s.length;u++)e.houses[s[u]].current_vote_type!==O&&e.houses[s[u]].current_vote_type!==x||(e.houses[s[u]].coins=e.houses[s[u]].coins+1)},changeURL:function(e,t,s){e.currentDilemma=s},addPool:function(e,t){e.powerPool=e.powerPool+1},removePool:function(e,t){e.powerPool=e.powerPool-1},addBloodPool:function(e,t){e.bloodPool=e.bloodPool+1},removeBloodPool:function(e,t){e.bloodPool=e.bloodPool-1}},endIf:function(e,t){}},w=s(5),P=s(7),_=s(8),A=s(9),k=s(64),C=s(36),S=s(1),E=function(e){Object(_.a)(s,e);var t=Object(A.a)(s);function s(){var e;Object(w.a)(this,s);for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).action=null,e}return Object(P.a)(s,[{key:"setAction",value:function(e){this.action=e}},{key:"onClick",value:function(e){var t=this.action;if("assignLeader"===t&&this.props.moves.assignLeader(e),"assignModerator"===t&&this.props.moves.assignModerator(e),"addPower"===t&&this.props.moves.addPower(e),"removePower"===t&&this.props.moves.removePower(e),"addCoin"===t&&this.props.moves.addCoin(e),"removeCoin"===t&&this.props.moves.removeCoin(e),"voteAye"===t){var s=document.getElementById(e+"-bid"),o=parseInt(null===s||void 0===s?void 0:s.value);this.props.moves.voteAye(e,o)}if("voteNay"===t){var r=document.getElementById(e+"-bid"),n=parseInt(null===r||void 0===r?void 0:r.value);this.props.moves.voteNay(e,n)}"passPower"===t&&this.props.moves.passPower(e),"passModerator"===t&&this.props.moves.passModerator(e),this.action=null}},{key:"render",value:function(){var e=this,t="";this.props.ctx.gameover&&(t=void 0!==this.props.ctx.gameover.winner?Object(S.jsxs)("div",{id:"winner",children:["Winner: ",this.props.ctx.gameover.winner]}):Object(S.jsx)("div",{id:"winner",children:"Draw!"}));for(var s=[],o=Object.keys(this.props.G.houses),r=function(t){var r=o[t],n=[Object(S.jsxs)("div",{children:["AYE: ",e.props.G.houses[r].current_bid,Object(S.jsx)("br",{}),Object(S.jsxs)("span",{children:["Bid: ",Object(S.jsx)("input",{style:{width:"15px"},id:r+"-bid"})]})]}),Object(S.jsxs)("div",{children:["NAY: ",e.props.G.houses[r].current_bid,Object(S.jsx)("br",{}),Object(S.jsxs)("span",{children:["Bid: ",Object(S.jsx)("input",{style:{width:"15px"},id:r+"-bid"})]})]}),Object(S.jsx)("div",{children:"PASS (POWER) "}),Object(S.jsx)("div",{children:"PASS (MODERATOR) "})];s.push(Object(S.jsx)("div",{style:{lineHeight:"14px",textAlign:"center"},onClick:function(){return e.onClick(r)},children:Object(S.jsx)("table",{children:Object(S.jsx)("tbody",{children:Object(S.jsxs)("tr",{style:{height:"120px"},children:[Object(S.jsxs)("td",{style:{width:"100px",border:"1px solid #555"},children:[r," ",Object(S.jsxs)("span",{class:"tooltip",children:[Object(S.jsx)(k.a,{color:e.props.G.houses[r].color}),Object(S.jsxs)("span",{class:"tooltiptext",children:["Prestige: ",e.props.G.houses[r].prestige,Object(S.jsx)("br",{}),"Crave: ",e.props.G.houses[r].crave,Object(S.jsx)("br",{}),e.props.G.houses[r].agendas,Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),e.props.G.houses[r].achievement1,Object(S.jsx)("br",{}),e.props.G.houses[r].achievement2,Object(S.jsx)("br",{}),e.props.G.houses[r].achievement3,Object(S.jsx)("br",{}),e.props.G.houses[r].story]}),Object(S.jsx)("br",{})]}),"Power: ",e.props.G.houses[r].power," ",Object(S.jsx)("br",{}),"Coins: ",e.props.G.houses[r].coins," ",Object(S.jsx)("br",{}),e.props.G.leader===e.props.G.houses[r].id?"LEADER":""," ",Object(S.jsx)("br",{}),e.props.G.moderator===e.props.G.houses[r].id?"MODERATOR":""," ",Object(S.jsx)("br",{}),e.props.G.currentPlayer===e.props.G.houses[r].id?"CURRENT PLAYER":""," ",Object(S.jsx)("br",{})]}),Object(S.jsxs)("td",{style:{width:"150px"},children:[Object(S.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.setAction("voteAye")},children:"AYE"}),Object(S.jsx)("br",{}),Object(S.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.setAction("voteNay")},children:"NAY"}),Object(S.jsx)("br",{}),Object(S.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.setAction("passPower")},children:"PASS (POWER)"}),Object(S.jsx)("br",{}),Object(S.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.setAction("passModerator")},children:"PASS (MODERATOR)"}),Object(S.jsx)("br",{})]}),Object(S.jsx)("td",{style:{width:"100px",height:"50px",border:"1px solid #555"},children:e.props.G.houses[r].current_vote_type?n[e.props.G.houses[r].current_vote_type-1]:Object(S.jsxs)("span",{children:["Bid: ",Object(S.jsx)("input",{style:{width:"15px"},id:r+"-bid"})]})})]})})})},r))},n=0;n<o.length;n++)r(n);var i=Object(S.jsx)("div",{style:{border:"1px solid #555",height:"50px",lineHeight:"10px",textAlign:"center",background:"rgba(256, 256, 256, 0.65)"},children:Object(S.jsx)("table",{children:Object(S.jsxs)("tbody",{children:[Object(S.jsxs)("tr",{children:[Object(S.jsxs)("td",{children:["      ",Object(S.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.setAction("assignLeader")},children:"ASSIGN LEADER"}),Object(S.jsx)("br",{})]}),Object(S.jsxs)("td",{children:[Object(S.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.setAction("addPower")},children:"ADD POWER"}),Object(S.jsx)("br",{})]}),Object(S.jsxs)("td",{children:[Object(S.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.setAction("addCoin")},children:"ADD COIN"}),Object(S.jsx)("br",{})]}),Object(S.jsxs)("td",{children:[Object(S.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.props.moves.newVote()},children:"NEW VOTE"}),Object(S.jsx)("br",{})]}),Object(S.jsx)("td",{children:2===this.props.G.currentPhase?Object(S.jsxs)("div",{children:[Object(S.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.props.moves.resolveAye()},children:"AYES HAVE IT"}),Object(S.jsx)("br",{})]}):""}),Object(S.jsxs)("td",{children:[Object(S.jsx)(C.a,{sources:["camera"],resourceType:"image",cloudName:"dgqjwmtyf",uploadPreset:"lowmd5va-dilemma",buttonText:"Upload",style:{color:"white",border:"none",width:"120px",backgroundColor:"green",borderRadius:"4px",height:"20px"},onSuccess:function(t){console.log("success",t),e.props.moves.changeURL(t.info.secure_url)},onFailure:function(e,t){console.log("failure",e,t)},logging:!1,use_filename:!1}),Object(S.jsx)("br",{})]}),Object(S.jsxs)("td",{children:[Object(S.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.props.moves.addPool()},children:"ADD POOL POWER"}),Object(S.jsx)("br",{})]}),Object(S.jsxs)("td",{children:[Object(S.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.props.moves.removeBloodPool()},children:"TAKE BLOOD MONEY"}),Object(S.jsx)("br",{})]})]}),Object(S.jsxs)("tr",{children:[Object(S.jsxs)("td",{children:[Object(S.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.setAction("assignModerator")},children:"ASSIGN MODERATOR"}),Object(S.jsx)("br",{})]}),Object(S.jsxs)("td",{children:[Object(S.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.setAction("removePower")},children:"REMOVE POWER"}),Object(S.jsx)("br",{})]}),Object(S.jsxs)("td",{children:[Object(S.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.setAction("removeCoin")},children:"REMOVE COIN"}),Object(S.jsx)("br",{})]}),Object(S.jsx)("td",{children:1===this.props.G.currentPhase?"Voting":"Vote Closed"}),Object(S.jsx)("td",{children:2===this.props.G.currentPhase?Object(S.jsxs)("div",{children:[Object(S.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.props.moves.resolveNay()},children:"NAYS HAVE IT"}),Object(S.jsx)("br",{})]}):""}),Object(S.jsx)("td",{}),Object(S.jsxs)("td",{children:[Object(S.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.props.moves.removePool()},children:"REMOVE POOL POWER"}),Object(S.jsx)("br",{})]}),Object(S.jsxs)("td",{children:[Object(S.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.props.moves.addBloodPool()},children:"RETURN BLOOD MONEY"}),Object(S.jsx)("br",{})]})]})]})})}),c=Object(S.jsxs)("div",{style:{position:"absolute",top:"80px",left:"400px"},children:[Object(S.jsxs)("div",{style:{fontSize:"14px",color:"gray"},children:[Object(S.jsxs)("span",{class:"tooltip",style:{margin:"5px"},children:["Opportunist ",Object(S.jsx)("span",{class:"tooltiptext",children:Object(S.jsx)("img",{alt:"",src:"/kings-dilemma/opportunist.png"})})]}),Object(S.jsxs)("span",{class:"tooltip",style:{margin:"5px"},children:["Opulent ",Object(S.jsx)("span",{class:"tooltiptext",children:Object(S.jsx)("img",{alt:"",src:"/kings-dilemma/opulent.png"})})]}),Object(S.jsxs)("span",{class:"tooltip",style:{margin:"5px"},children:["Moderate ",Object(S.jsx)("span",{class:"tooltiptext",children:Object(S.jsx)("img",{alt:"",src:"/kings-dilemma/moderate.png"})})]}),Object(S.jsxs)("span",{class:"tooltip",style:{margin:"5px"},children:["Greedy ",Object(S.jsx)("span",{class:"tooltiptext",children:Object(S.jsx)("img",{alt:"",src:"/kings-dilemma/greedy.png"})})]}),Object(S.jsxs)("span",{class:"tooltip",style:{margin:"5px"},children:["Rebel ",Object(S.jsx)("span",{class:"tooltiptext",children:Object(S.jsx)("img",{alt:"",src:"/kings-dilemma/rebel.png"})})]}),Object(S.jsxs)("span",{class:"tooltip",style:{margin:"5px"},children:["Extremist ",Object(S.jsx)("span",{class:"tooltiptext",children:Object(S.jsx)("img",{alt:"",src:"/kings-dilemma/extremist.png"})})]})]}),Object(S.jsx)("br",{}),Object(S.jsxs)("div",{children:["Current Power Pool: ",this.props.G.powerPool]}),Object(S.jsxs)("div",{class:"tooltip",children:["Current Blood Money Pool: ",this.props.G.bloodPool," ",Object(S.jsx)("span",{class:"tooltiptext",children:"When passing, a player may take one coin from this pool. If this pool is empty at the end of the game, the scoring from the coin ranking is reduced by 2."})]}),Object(S.jsx)("div",{style:{marginTop:"5px"},children:Object(S.jsx)("img",{alt:"",style:{width:"400px"},src:this.props.G.currentDilemma})})]});return Object(S.jsxs)("div",{children:[Object(S.jsx)(C.b,{}),i,s,c,t]})}}]),s}(r.a.Component),G=Object(c.a)({numPlayers:1,game:y,board:E}),R=function(){return Object(S.jsx)("div",{children:Object(S.jsx)(G,{playerID:"0"})})},N=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,121)).then((function(t){var s=t.getCLS,o=t.getFID,r=t.getFCP,n=t.getLCP,i=t.getTTFB;s(e),o(e),r(e),n(e),i(e)}))};i.a.render(Object(S.jsx)(r.a.StrictMode,{children:Object(S.jsx)(R,{})}),document.getElementById("root")),N()},70:function(e,t,s){}},[[119,1,2]]]);
//# sourceMappingURL=main.0662919e.chunk.js.map