(this["webpackJsonpbgio-tutorial"]=this["webpackJsonpbgio-tutorial"]||[]).push([[0],{117:function(e,t){},121:function(e,t,r){"use strict";r.r(t);var o=r(4),s=r.n(o),n=r(71),i=r.n(n),c=(r(79),r(73)),u=r(1),d=1,l=2,h=3,p=4,a=5,b=1,j=2,x=3,v=4,O=1,f=2,y=[l,p,d,h,a];function w(e,t,r){var o=e.turnOrder.indexOf(e.houses[t].id),s=(o+1)%e.turnOrder.length;e.currentPlayer=e.turnOrder[s],r&&e.turnOrder.splice(o,1),e.currentPlayer===e.leader&&(e.currentPhase=f,e.currentPlayer=null)}var _={setup:function(){return{currentDilemma:"https://i.ibb.co/NLJhqKq/Screen-Shot-2021-04-11-at-6-54-35-PM.png",currentPhase:O,turnOrder:y,currentPlayer:l,leader:p,moderator:l,moderatorAvailable:!0,powerPool:3,houses:{crann:{name:"Crann",id:l,coins:10,power:8,current_bid:null,current_vote_type:null,top:"470px",left:"95px"},olwyn:{name:"Olwyn",id:p,coins:10,power:9,current_bid:null,current_vote_type:null,top:"470px",left:"95px"},dualak:{name:"Dualak",id:d,coins:10,power:8,current_bid:null,current_vote_type:null,top:"470px",left:"95px"},solad:{name:"Solad",id:h,coins:10,power:7,current_bid:null,current_vote_type:null,top:"470px",left:"95px"},blodyn:{name:"Blodyn",id:a,coins:10,power:9,current_bid:null,current_vote_type:null,top:"470px",left:"95px"}}}},turn:{moveLimit:1},moves:{assignLeader:function(e,t,r){if(!e.houses[r])return u.t;e.leader=e.houses[r].id},assignModerator:function(e,t,r){if(!e.houses[r])return u.t;e.moderator=e.houses[r].id},addPower:function(e,t,r){if(!e.houses[r])return u.t;e.houses[r].power=e.houses[r].power+1},removePower:function(e,t,r){if(!e.houses[r])return u.t;e.houses[r].power=e.houses[r].power-1},addCoin:function(e,t,r){if(!e.houses[r])return u.t;e.houses[r].coins=e.houses[r].coins+1},removeCoin:function(e,t,r){if(!e.houses[r])return u.t;e.houses[r].coins=e.houses[r].coins+1},voteAye:function(e,t,r,o){if(!e.houses[r])return u.t;if(e.currentPlayer!==e.houses[r].id)return u.t;if(isNaN(o)||o<0)return u.t;if(e.houses[r].current_bid+o>e.houses[r].power)return u.t;e.houses[r].current_vote_type=b,e.houses[r].current_bid=e.houses[r].current_bid+o;var s=e.houses[Object.keys(e.houses).find((function(t){return e.houses[t].id===e.leader}))];e.houses[r].current_bid>s.current_bid&&(e.leader=e.houses[r].id),w(e,r)},voteNay:function(e,t,r,o){if(!e.houses[r])return u.t;if(e.currentPlayer!==e.houses[r].id)return u.t;if(isNaN(o)||o<0)return u.t;if(e.houses[r].current_bid+o>e.houses[r].power)return u.t;e.houses[r].current_vote_type=j,e.houses[r].current_bid=e.houses[r].current_bid+o;var s=e.houses[Object.keys(e.houses).find((function(t){return e.houses[t].id===e.leader}))];e.houses[r].current_bid>s.current_bid&&(e.leader=e.houses[r].id),w(e,r)},passPower:function(e,t,r){return e.houses[r]?e.currentPlayer!==e.houses[r].id?u.t:(e.houses[r].current_vote_type=x,void w(e,r,!0)):u.t},passModerator:function(e,t,r){return e.houses[r]?e.currentPlayer!==e.houses[r].id?u.t:e.moderatorAvailable?(e.houses[r].current_vote_type=v,e.moderator=e.houses[r].id,e.moderatorAvailable=!1,void w(e,r,!0)):u.t:u.t},newVote:function(e,t){e.currentPlayer=e.leader;for(var r=Object.keys(e.houses),o=0;o<r.length;o++)e.houses[r[o]].current_vote_type=null,e.houses[r[o]].current_bid=null;e.moderatorAvailable=!0,e.turnOrder=y},resolveAye:function(e,t){for(var r=Object.keys(e.houses),o=0,s=0;s<r.length;s++)e.houses[r[s]].current_vote_type===x&&(o+=1);var n=e.powerPool%o;if(n<e.powerPool){for(var i=(e.powerPool-n)/o,c=0;c<r.length;c++)e.houses[r[c]].current_vote_type===x&&(e.houses[r[c]].power=e.houses[r[c]].power+i);e.powerPool=n}for(var u=0;u<r.length;u++)e.houses[r[u]].current_vote_type===b&&(e.powerPool=e.powerPool+e.houses[r[u]].current_bid,e.houses[r[u]].power=e.houses[r[u]].power-e.houses[r[u]].current_bid);for(var d=0;d<r.length;d++)e.houses[r[d]].current_vote_type!==v&&e.houses[r[d]].current_vote_type!==x||(e.houses[r[d]].coins=e.houses[r[d]].coins+1)},resolveNay:function(e,t){for(var r=Object.keys(e.houses),o=0,s=0;s<r.length;s++)e.houses[r[s]].current_vote_type===x&&(o+=1);var n=e.powerPool%o;if(n<e.powerPool){for(var i=(e.powerPool-n)/o,c=0;c<r.length;c++)e.houses[r[c]].current_vote_type===x&&(e.houses[r[c]].power=e.houses[r[c]].power+i);e.powerPool=n}for(var u=0;u<r.length;u++)e.houses[r[u]].current_vote_type===j&&(e.powerPool=e.powerPool+e.houses[r[u]].current_bid,e.houses[r[u]].power=e.houses[r[u]].power-e.houses[r[u]].current_bid);for(var d=0;d<r.length;d++)e.houses[r[d]].current_vote_type!==v&&e.houses[r[d]].current_vote_type!==x||(e.houses[r[d]].coins=e.houses[r[d]].coins+1)},changeURL:function(e,t,r){e.currentDilemma=r}},endIf:function(e,t){}},m=r(5),P=r(8),g=r(9),A=r(10),C=(r(53),r(2)),S=function(e){Object(g.a)(r,e);var t=Object(A.a)(r);function r(){var e;Object(m.a)(this,r);for(var o=arguments.length,s=new Array(o),n=0;n<o;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).action=null,e}return Object(P.a)(r,[{key:"setAction",value:function(e){this.action=e}},{key:"onClick",value:function(e){var t=this.action;if("assignLeader"===t&&this.props.moves.assignLeader(e),"assignModerator"===t&&this.props.moves.assignModerator(e),"addPower"===t&&this.props.moves.addPower(e),"removePower"===t&&this.props.moves.removePower(e),"addCoin"===t&&this.props.moves.addCoin(e),"removeCoin"===t&&this.props.moves.removeCoin(e),"voteAye"===t){var r=document.getElementById(e+"-bid"),o=parseInt(null===r||void 0===r?void 0:r.value);this.props.moves.voteAye(e,o)}if("voteNay"===t){var s=document.getElementById(e+"-bid"),n=parseInt(null===s||void 0===s?void 0:s.value);this.props.moves.voteNay(e,n)}"passPower"===t&&this.props.moves.passPower(e),"passModerator"===t&&this.props.moves.passModerator(e),this.action=null}},{key:"render",value:function(){var e=this,t="";this.props.ctx.gameover&&(t=void 0!==this.props.ctx.gameover.winner?Object(C.jsxs)("div",{id:"winner",children:["Winner: ",this.props.ctx.gameover.winner]}):Object(C.jsx)("div",{id:"winner",children:"Draw!"}));for(var r=[],o=Object.keys(this.props.G.houses),s=function(t){var s=o[t],n=[Object(C.jsxs)("div",{children:["AYE: ",e.props.G.houses[s].current_bid,Object(C.jsx)("br",{}),Object(C.jsxs)("span",{children:["Bid: ",Object(C.jsx)("input",{style:{width:"15px"},id:s+"-bid"})]})]}),Object(C.jsxs)("div",{children:["NAY: ",e.props.G.houses[s].current_bid,Object(C.jsx)("br",{}),Object(C.jsxs)("span",{children:["Bid: ",Object(C.jsx)("input",{style:{width:"15px"},id:s+"-bid"})]})]}),Object(C.jsx)("div",{children:"PASS (POWER) "}),Object(C.jsx)("div",{children:"PASS (MODERATOR) "})];r.push(Object(C.jsx)("div",{style:{lineHeight:"14px",textAlign:"center"},onClick:function(){return e.onClick(s)},children:Object(C.jsx)("table",{children:Object(C.jsx)("tbody",{children:Object(C.jsxs)("tr",{style:{height:"120px"},children:[Object(C.jsxs)("td",{style:{width:"100px",border:"1px solid #555"},children:["Name: ",s," ",Object(C.jsx)("br",{}),"Power: ",e.props.G.houses[s].power," ",Object(C.jsx)("br",{}),"Coins: ",e.props.G.houses[s].coins," ",Object(C.jsx)("br",{}),e.props.G.leader===e.props.G.houses[s].id?"LEADER":""," ",Object(C.jsx)("br",{}),e.props.G.moderator===e.props.G.houses[s].id?"MODERATOR":""," ",Object(C.jsx)("br",{}),e.props.G.currentPlayer===e.props.G.houses[s].id?"CURRENT PLAYER":""," ",Object(C.jsx)("br",{})]}),Object(C.jsxs)("td",{style:{width:"150px"},children:[Object(C.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.setAction("voteAye")},children:"AYE"}),Object(C.jsx)("br",{}),Object(C.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.setAction("voteNay")},children:"NAY"}),Object(C.jsx)("br",{}),Object(C.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.setAction("passPower")},children:"PASS (POWER)"}),Object(C.jsx)("br",{}),Object(C.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.setAction("passModerator")},children:"PASS (MODERATOR)"}),Object(C.jsx)("br",{})]}),Object(C.jsx)("td",{style:{width:"100px",height:"50px",border:"1px solid #555"},children:e.props.G.houses[s].current_vote_type?n[e.props.G.houses[s].current_vote_type-1]:Object(C.jsxs)("span",{children:["Bid: ",Object(C.jsx)("input",{style:{width:"15px"},id:s+"-bid"})]})})]})})})},s))},n=0;n<o.length;n++)s(n);var i=Object(C.jsx)("div",{style:{border:"1px solid #555",height:"50px",lineHeight:"10px",textAlign:"center",background:"rgba(256, 256, 256, 0.65)"},children:Object(C.jsx)("table",{children:Object(C.jsxs)("tbody",{children:[Object(C.jsxs)("tr",{children:[Object(C.jsxs)("td",{children:["      ",Object(C.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.setAction("assignLeader")},children:"ASSIGN LEADER"}),Object(C.jsx)("br",{})]}),Object(C.jsxs)("td",{children:[Object(C.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.setAction("addPower")},children:"ADD POWER"}),Object(C.jsx)("br",{})]}),Object(C.jsxs)("td",{children:[Object(C.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.setAction("addCoin")},children:"ADD COIN"}),Object(C.jsx)("br",{})]}),Object(C.jsxs)("td",{children:[Object(C.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.props.moves.newVote()},children:"NEW VOTE"}),Object(C.jsx)("br",{})]}),Object(C.jsx)("td",{children:2===this.props.G.currentPhase?Object(C.jsxs)("div",{children:[Object(C.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.props.moves.resolveAye()},children:"AYES HAVE IT"}),Object(C.jsx)("br",{})]}):""}),Object(C.jsxs)("td",{children:[Object(C.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){var t=prompt("What image should be displayed?","image URL goes here");null!=t&&e.props.moves.changeURL(t)},children:"CHANGE IMAGE"}),Object(C.jsx)("br",{})]})]}),Object(C.jsxs)("tr",{children:[Object(C.jsxs)("td",{children:[Object(C.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.setAction("assignModerator")},children:"ASSIGN MODERATOR"}),Object(C.jsx)("br",{})]}),Object(C.jsxs)("td",{children:[Object(C.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.setAction("removePower")},children:"REMOVE POWER"}),Object(C.jsx)("br",{})]}),Object(C.jsxs)("td",{children:[Object(C.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.setAction("removeCoin")},children:"REMOVE COIN"}),Object(C.jsx)("br",{})]}),Object(C.jsx)("td",{children:1===this.props.G.currentPhase?"Voting":"Vote Closed"}),Object(C.jsx)("td",{children:2===this.props.G.currentPhase?Object(C.jsxs)("div",{children:[Object(C.jsx)("button",{style:{fontSize:"12px",width:"100%"},onClick:function(){return e.props.moves.resolveNay()},children:"NAYS HAVE IT"}),Object(C.jsx)("br",{})]}):""})]})]})})}),c=Object(C.jsxs)("div",{style:{position:"absolute",top:"80px",left:"400px"},children:[Object(C.jsxs)("div",{children:["Current Power Pool: ",this.props.G.powerPool]}),Object(C.jsx)("img",{alt:"",style:{width:"400px"},src:this.props.G.currentDilemma})]});return Object(C.jsxs)("div",{children:[i,r,c,t]})}}]),r}(s.a.Component),k=r(37),E=Object(c.a)({numPlayers:1,game:_,board:S,multiplayer:Object(k.b)({server:"https://pandemic-legacy0.herokuapp.com"})}),G=function(){return Object(C.jsx)("div",{children:Object(C.jsx)(E,{playerID:"0"})})},N=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,125)).then((function(t){var r=t.getCLS,o=t.getFID,s=t.getFCP,n=t.getLCP,i=t.getTTFB;r(e),o(e),s(e),n(e),i(e)}))};i.a.render(Object(C.jsx)(s.a.StrictMode,{children:Object(C.jsx)(G,{})}),document.getElementById("root")),N()},79:function(e,t,r){}},[[121,1,2]]]);
//# sourceMappingURL=main.7246f81e.chunk.js.map